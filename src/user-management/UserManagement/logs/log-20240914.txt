{"Timestamp":"2024-09-14T23:17:26.2732161+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:17:26.4669877+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:17:26.4683567+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:17:26.4707244+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:17:26.4716919+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:17:26.4728929+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:17:26.5352621+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:19:38.9624519+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------785427431482256550691081","ContentLength":861,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.0039380+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.0438425+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.2352398+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.3713644+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":321.2057,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.3755493+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:19:40.3791927+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":400,"Elapsed":1328.3506,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0BOF24C3:00000001","ConnectionId":"0HN6L0BOF24C3"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1328.3506"}]}}
{"Timestamp":"2024-09-14T23:19:40.3876051+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7db1a6923205e14da0beef2c23c873e5","SpanId":"15022bef3f823ce0","Properties":{"ElapsedMilliseconds":1425.9556,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:31.5984049+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------108742137826405678800448","ContentLength":66387,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:31.6045032+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:31.6060478+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:31.6243683+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:33.0396334+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1409.3081,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:33.0478284+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"ObjectResultType":"OkObjectResult","Type":"UserManagement.Application.Models.AuthenticationResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a4afcb1b-512f-47ae-a439-94e01e7043c5","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:33.1182668+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":1510.0143,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:33.1211028+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:20:33.1253765+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":200,"Elapsed":1522.2681,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0BOF24C3:00000002","ConnectionId":"0HN6L0BOF24C3"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1522.2681"}]}}
{"Timestamp":"2024-09-14T23:20:33.1287994+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"290638193657c462853689228f3e5349","SpanId":"bd1ad027d61a0c4f","Properties":{"ElapsedMilliseconds":1530.3431,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C3:00000002","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0BOF24C3"}}
{"Timestamp":"2024-09-14T23:21:44.4183998+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":109,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.4733856+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.4886790+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.4907739+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.4968382+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"80f32b09-358d-4876-ac03-341321ccaf56","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.5220140+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"80f32b09-358d-4876-ac03-341321ccaf56","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.5238284+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":24.9852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.5253570+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:44.5267670+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":105.6063,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0BOF24C5:00000001","ConnectionId":"0HN6L0BOF24C5"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"105.6063"}]}}
{"Timestamp":"2024-09-14T23:21:44.5289639+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"62944ddcabbc67a357528b70230aeeb7","SpanId":"ef1042c6829f4b80","Properties":{"ElapsedMilliseconds":110.5544,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0BOF24C5:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0BOF24C5"}}
{"Timestamp":"2024-09-14T23:21:56.9066339+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:21:56.9817262+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:26:04.5050641+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:26:04.6843225+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:26:04.6853890+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:26:04.6869538+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:26:04.6877179+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:26:04.6886603+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:26:04.7829159+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:26:10.2474290+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------652008431280478934656348","ContentLength":66387,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:10.4144223+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:10.4614030+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"02a618e5-5611-4b66-acc1-1194ff670f6d","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:10.6012126+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"02a618e5-5611-4b66-acc1-1194ff670f6d","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:11.4516356+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":845.5088,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"02a618e5-5611-4b66-acc1-1194ff670f6d","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:11.4688393+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"ObjectResultType":"OkObjectResult","Type":"UserManagement.Application.Models.AuthenticationResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"02a618e5-5611-4b66-acc1-1194ff670f6d","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:11.6201491+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":1151.8044,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:11.6229577+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:11.6303887+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":200,"Elapsed":1250.1772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0FD2L12F:00000001","ConnectionId":"0HN6L0FD2L12F"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1250.1772"}]}}
{"Timestamp":"2024-09-14T23:26:11.6435611+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1dbf7f61930d7ceaa499947d0aa2eac0","SpanId":"0a2882f2c093c275","Properties":{"ElapsedMilliseconds":1398.9586,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9087913+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":109,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9513597+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9615569+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9638541+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9713740+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(Byte[], System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99118a45-103a-420f-922b-9e8891468b53","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:48.9981645+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99118a45-103a-420f-922b-9e8891468b53","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:49.0453967+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":71.0084,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:49.0476551+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:26:49.0487914+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":134.5081,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0FD2L12F:00000002","ConnectionId":"0HN6L0FD2L12F"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"134.5081"}]}}
{"Timestamp":"2024-09-14T23:26:49.0515396+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3919e3188fe100ee192df4b80037e198","SpanId":"274ce9ec5654fb4d","Properties":{"ElapsedMilliseconds":142.7583,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8581589+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8639823+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8673500+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8691681+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8712071+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(Byte[], System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"99118a45-103a-420f-922b-9e8891468b53","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8762341+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"99118a45-103a-420f-922b-9e8891468b53","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8783093+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":5.4285,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8797834+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:27:01.8808798+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":19.6048,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0FD2L12F:00000003","ConnectionId":"0HN6L0FD2L12F"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.6048"}]}}
{"Timestamp":"2024-09-14T23:27:01.8823965+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"59c1b7b6f2208942b231150b66c588e1","SpanId":"c94982e343c90f01","Properties":{"ElapsedMilliseconds":24.2199,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0FD2L12F:00000003","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0FD2L12F"}}
{"Timestamp":"2024-09-14T23:29:39.8365002+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:29:39.8944727+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:47:00.7512109+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:47:01.1324075+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:47:01.1526676+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:47:01.1573090+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:47:01.1591054+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:47:01.1602936+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:47:01.2610025+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:47:10.9966986+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------881691696676624562721871","ContentLength":66387,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:11.0948981+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:11.1239297+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"41aaa2fe-50e3-435a-ae91-6a007b4a6f4e","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:11.3223203+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"41aaa2fe-50e3-435a-ae91-6a007b4a6f4e","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:12.3146660+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":986.4067,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"41aaa2fe-50e3-435a-ae91-6a007b4a6f4e","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:12.3451975+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"ObjectResultType":"OkObjectResult","Type":"UserManagement.Application.Models.AuthenticationResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"41aaa2fe-50e3-435a-ae91-6a007b4a6f4e","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:12.4902180+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":1358.8763,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:12.4929756+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:12.5001339+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":200,"Elapsed":1435.0799,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0R4Q969Q:00000001","ConnectionId":"0HN6L0R4Q969Q"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1435.0799"}]}}
{"Timestamp":"2024-09-14T23:47:12.5110405+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ec01b36a50b7ed7fb750514aa202d3c5","SpanId":"9f25b8fc23593360","Properties":{"ElapsedMilliseconds":1516.6849,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0R4Q969Q:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:36.9381682+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:36.9851248+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:36.9941324+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:36.9957195+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:37.0028316+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e310bfb0-1dcf-4be5-b066-5afab95867f1","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:37.0275056+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e310bfb0-1dcf-4be5-b066-5afab95867f1","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:37.0729034+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":67.0194,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:37.0752641+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:47:37.0764119+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":130.6169,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0R4Q969Q:00000002","ConnectionId":"0HN6L0R4Q969Q"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"130.6169"}]}}
{"Timestamp":"2024-09-14T23:47:37.0783945+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ae13481f804eca2b3afd592b1fdbf74d","SpanId":"461bdfc824fda33a","Properties":{"ElapsedMilliseconds":140.2981,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0R4Q969Q:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0R4Q969Q"}}
{"Timestamp":"2024-09-14T23:48:00.6072668+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:48:00.6771705+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:49:20.6624050+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:49:20.9900463+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:20.9921944+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:20.9939932+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:20.9948599+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:20.9956018+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:21.0945830+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:49:23.2682266+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=qK78H0wOoUgY6cNDx2bNNx/oXPwBptC0Od6Z06k32EFHXU9D9RB5ySzNVZwNOe6cvtvLmfJ5lCXdXKrabbtclQ==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.4259759+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.4373122+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.4431984+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.4754403+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.5231529+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.7054245+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":223.9545,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.7088040+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:23.7124921+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":374.6061,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0SC7OPGD:00000001","ConnectionId":"0HN6L0SC7OPGD"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"374.6061"}]}}
{"Timestamp":"2024-09-14T23:49:23.7194073+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e42400154a074b04a7a9f1d572a3a8f0","SpanId":"df85aa05cc3965db","Properties":{"ElapsedMilliseconds":452.9345,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=qK78H0wOoUgY6cNDx2bNNx/oXPwBptC0Od6Z06k32EFHXU9D9RB5ySzNVZwNOe6cvtvLmfJ5lCXdXKrabbtclQ==","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SC7OPGD:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0563013+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?refreshToken=qK78H0wOoUgY6cNDx2bNNx/oXPwBptC0Od6Z06k32EFHXU9D9RB5ySzNVZwNOe6cvtvLmfJ5lCXdXKrabbtclQ==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0637111+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0669447+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0684895+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0698455+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.0837385+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.2076222+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":118.048,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.2278445+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"UserManagement.Application.Models.AuthenticationResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"acc1908f-ed45-4c03-9b43-49de462bb59a","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.2697840+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":198.1235,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.2726730+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:38.2762126+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":213.8475,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0SC7OPGD:00000002","ConnectionId":"0HN6L0SC7OPGD"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"213.8475"}]}}
{"Timestamp":"2024-09-14T23:49:38.2787857+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"437cfd9e0d85098cb9d0b75d0e1d21ee","SpanId":"c2263b73e4aca6fe","Properties":{"ElapsedMilliseconds":222.4802,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?refreshToken=qK78H0wOoUgY6cNDx2bNNx/oXPwBptC0Od6Z06k32EFHXU9D9RB5ySzNVZwNOe6cvtvLmfJ5lCXdXKrabbtclQ==","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SC7OPGD:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0SC7OPGD"}}
{"Timestamp":"2024-09-14T23:49:46.1647634+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:49:46.2316345+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:50:04.3163973+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:50:04.5443121+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:04.5529698+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:04.5550256+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:04.5558844+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:04.5566344+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:04.6406854+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:50:06.4471231+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------959841253830702213734895","ContentLength":66387,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:06.5536977+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:06.5832727+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"42742151-f153-44f2-a5ec-0e13f76cdf7d","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:06.7169148+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"42742151-f153-44f2-a5ec-0e13f76cdf7d","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:07.8151548+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":1225.0517,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:07.8197853+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:07.8291597+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Exception":"Npgsql.PostgresException (0x80004005): 42703: column \"expiration\" of relation \"refreshtokens\" does not exist\r\n\r\nPOSITION: 35\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)\r\n   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662\r\n   at UserManagement.Application.Services.AuthService.RegisterAsync(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Application\\Services\\AuthService.cs:line 50\r\n   at UserManagement.Application.Services.AuthService.RegisterAsync(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Application\\Services\\AuthService.cs:line 53\r\n   at UserManagement.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 42703\r\n    MessageText: column \"expiration\" of relation \"refreshtokens\" does not exist\r\n    Position: 35\r\n    File: parse_target.c\r\n    Line: 1052\r\n    Routine: checkInsertTargets","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":1308.3199,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0SP3HF0U:00000001","ConnectionId":"0HN6L0SP3HF0U"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1308.3199"}]}}
{"Timestamp":"2024-09-14T23:50:07.8676063+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Exception":"Npgsql.PostgresException (0x80004005): 42703: column \"expiration\" of relation \"refreshtokens\" does not exist\r\n\r\nPOSITION: 35\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)\r\n   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 662\r\n   at UserManagement.Application.Services.AuthService.RegisterAsync(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Application\\Services\\AuthService.cs:line 50\r\n   at UserManagement.Application.Services.AuthService.RegisterAsync(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Application\\Services\\AuthService.cs:line 53\r\n   at UserManagement.Controllers.AuthController.Register(RegisterRequest request, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 42703\r\n    MessageText: column \"expiration\" of relation \"refreshtokens\" does not exist\r\n    Position: 35\r\n    File: parse_target.c\r\n    Line: 1052\r\n    Routine: checkInsertTargets","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:07.8994234+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b0357b6ba20ad7157cab8494b35ee7a","SpanId":"9984fe2da7a38e14","Properties":{"ElapsedMilliseconds":1453.0819,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0SP3HF0U:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0SP3HF0U"}}
{"Timestamp":"2024-09-14T23:50:21.5019503+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:50:21.5764956+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:51:15.7698866+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:51:15.9803380+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:51:15.9859698+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:51:15.9880280+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:51:15.9887571+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:51:15.9900037+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:51:16.0890124+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:51:19.9878065+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------028631484448979449993038","ContentLength":66387,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:20.0874436+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:20.1141337+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(UserManagement.Application.Contracts.Requests.Auth.RegisterRequest, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6bbfc8c3-9195-47ea-96c9-e722c6262a5b","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:20.2358881+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6bbfc8c3-9195-47ea-96c9-e722c6262a5b","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:21.2882271+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1047.0648,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6bbfc8c3-9195-47ea-96c9-e722c6262a5b","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:21.3060548+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"ObjectResultType":"OkObjectResult","Type":"UserManagement.Application.Models.AuthenticationResult","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6bbfc8c3-9195-47ea-96c9-e722c6262a5b","ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:21.6145914+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"ActionName":"UserManagement.Controllers.AuthController.Register (UserManagement)","ElapsedMilliseconds":1491.9124,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:21.7714549+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.Register (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:51:21.7812891+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":200,"Elapsed":1722.6463,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0TF0T16F:00000001","ConnectionId":"0HN6L0TF0T16F"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1722.6463"}]}}
{"Timestamp":"2024-09-14T23:51:21.7946276+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6d10e43480648feb3cc56781a18e7ed","SpanId":"5b5f6ef6db5418b7","Properties":{"ElapsedMilliseconds":1807.3217,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16F:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN6L0TF0T16F"}}
{"Timestamp":"2024-09-14T23:52:40.7223293+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.7702278+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.7795621+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.7809219+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.7879457+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9516616f-1b29-4d47-acdf-c708a62726e6","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.7975785+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9516616f-1b29-4d47-acdf-c708a62726e6","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.8014013+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":10.4348,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.8029988+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.8046576+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":500,"Elapsed":77.9509,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0TF0T16H:00000001","ConnectionId":"0HN6L0TF0T16H"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"77.9509"}]}}
{"Timestamp":"2024-09-14T23:52:40.8137098+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:52:40.8210284+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f4a1f1c012cc3cd8e0f873ed79b83aaa","SpanId":"2292f8bf02e419b1","Properties":{"ElapsedMilliseconds":98.7237,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16H:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2320078+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2384350+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2421153+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2433933+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2446994+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9516616f-1b29-4d47-acdf-c708a62726e6","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2506060+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9516616f-1b29-4d47-acdf-c708a62726e6","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2525724+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":6.4488,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2537140+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2554321+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":500,"Elapsed":19.3803,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0TF0T16H:00000002","ConnectionId":"0HN6L0TF0T16H"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"19.3803"}]}}
{"Timestamp":"2024-09-14T23:53:06.2609103+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:53:06.2671914+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7ea929c96f0a28fdf54d3d893e95bafe","SpanId":"6f3d626abe29eb1b","Properties":{"ElapsedMilliseconds":35.1691,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0TF0T16H:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0TF0T16H"}}
{"Timestamp":"2024-09-14T23:54:05.1794675+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:05.2457544+02:00","Level":"Information","MessageTemplate":"Bus stopped: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:54:26.7563742+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:54:27.0924549+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:27.0944487+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:27.0967280+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:27.0975812+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:27.0983398+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:54:27.2000253+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:54:34.6017026+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:34.9668279+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:34.9933193+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.0082672+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.0491287+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ab8505-e05a-4e30-b590-2d0736df8aa9","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.1242245+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ab8505-e05a-4e30-b590-2d0736df8aa9","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.3658809+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":310.6561,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.3714345+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.3772924+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":500,"Elapsed":655.5917,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L0V8VLICK:00000001","ConnectionId":"0HN6L0V8VLICK"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"655.5917"}]}}
{"Timestamp":"2024-09-14T23:54:35.3942178+02:00","Level":"Error","MessageTemplate":"An unhandled exception has occurred while executing the request.","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Exception":"System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.\r\n   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)\r\n   at System.Convert.FromBase64String(String s)\r\n   at UserManagement.Controllers.AuthController.RefreshAccessToken(String token, CancellationToken cancellationToken) in D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement\\Controllers\\AuthController.cs:line 32\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","Properties":{"EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:35.4206051+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2b37358af31d25cddf51a2351a7788b7","SpanId":"cbe4797b3baedaf6","Properties":{"ElapsedMilliseconds":826.6003,"StatusCode":500,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0V8VLICK:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1512587+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1621852+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1660562+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1678838+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1697548+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ab8505-e05a-4e30-b590-2d0736df8aa9","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:54:42.1745419+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"0cc7ac90af919d2fae4390658e8fa593","SpanId":"1afd5bd60aed8b95","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"26ab8505-e05a-4e30-b590-2d0736df8aa9","RequestId":"0HN6L0V8VLICK:00000002","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0V8VLICK"}}
{"Timestamp":"2024-09-14T23:55:11.6973218+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:55:12.6674969+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:55:12.6685006+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:55:12.6704962+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:55:12.6713469+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:55:12.6721648+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:55:12.7619377+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:55:16.7435812+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"?token=%22S+F3o6Z+BLCzNLsjXk75uMKZn/o/Xyy7Xm3hTLGM7JoEMrxI7uzKdfNKHCeKyUxaSVPtT/P0+RVUEh25WoQ4hg==%22","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:55:17.0103631+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:55:17.0293264+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:55:17.0378755+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:55:17.0675187+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f3a1355c-c7ee-4321-9681-cd5943e690dd","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:55:17.1506042+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d8dbe55f237f5ec5e3ba850d2f77b16b","SpanId":"6e5bbc256ee82fd9","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f3a1355c-c7ee-4321-9681-cd5943e690dd","RequestId":"0HN6L0VLIDUP9:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L0VLIDUP9"}}
{"Timestamp":"2024-09-14T23:56:05.0290175+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\nikit\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2024-09-14T23:56:05.2751999+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7263","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:56:05.2764413+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5094","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:56:05.2788289+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:56:05.2796423+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:56:05.2804544+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\Codes\\Zylo\\src\\UserManagement\\UserManagement","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2024-09-14T23:56:05.3681943+02:00","Level":"Information","MessageTemplate":"Bus started: {HostAddress}","Properties":{"HostAddress":"rabbitmq://localhost/","SourceContext":"MassTransit"}}
{"Timestamp":"2024-09-14T23:56:08.1945183+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":109,"Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.4352168+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.4542933+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. \nNumber of keys in Configuration: '0'. \nExceptions caught:\n '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.\ntoken: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.4601840+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.4886891+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"RouteData":"{action = \"RefreshAccessToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshAccessToken(System.String, System.Threading.CancellationToken)","Controller":"UserManagement.Controllers.AuthController","AssemblyName":"UserManagement","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f15b3fc8-44aa-4d5e-9da5-0a47ad80e619","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.6105234+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Microsoft.AspNetCore.Mvc.ValidationProblemDetails","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f15b3fc8-44aa-4d5e-9da5-0a47ad80e619","ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.7281326+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"ActionName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","ElapsedMilliseconds":233.2095,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.7318881+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"EndpointName":"UserManagement.Controllers.AuthController.RefreshAccessToken (UserManagement)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
{"Timestamp":"2024-09-14T23:56:08.7358126+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/token/refresh","StatusCode":400,"Elapsed":460.0633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN6L104T5IEE:00000001","ConnectionId":"0HN6L104T5IEE"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"460.0633"}]}}
{"Timestamp":"2024-09-14T23:56:08.7440838+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16510b38174f1ba389b55ae8917e29d2","SpanId":"169e18d9babcd0aa","Properties":{"ElapsedMilliseconds":550.9535,"StatusCode":400,"ContentType":"application/problem+json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:7263","PathBase":"","Path":"/api/auth/token/refresh","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6L104T5IEE:00000001","RequestPath":"/api/auth/token/refresh","ConnectionId":"0HN6L104T5IEE"}}
